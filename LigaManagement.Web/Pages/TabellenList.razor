@page "/tabellen"
@inherits TabellenListBase
@attribute [Authorize]
<link href='https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/ui-darkness/jquery-ui.css'
      rel='stylesheet'>

<style type="text/css">


    a {
        text-decoration: none;
        display: inline-block;
        padding: 8px 16px;
    }

        a:hover {
            background-color: #ddd;
            color: black;
        }

    .previous {
        background-color: #1b6ec2;
        border-color: #1861ac;
        color: white;
    }

    .next {
        background-color: #1b6ec2;
        border-color: #1861ac;
        color: white;
    }

    .round {
        border-radius: 50%;
    }

</style>
@if (Tabellen == null)
{
    <div class="spinner"></div>
}
else
{
    <h2>@Ligamanager.Components.Globals.currentLiga Tabelle</h2>

    <label>
        <select id="cboSaison" style="margin-left:5px;" class="form-control dropdown" @onchange="SaisonChange">
            <option value="" selected>@saison</option>
            @foreach (var saison in SaisonenList.OrderByDescending(o => o.Saisonname))
            {
                <option value="@saison.Saisonname"> @saison.Saisonname </option>
            }
        </select>
        <br />
    </label>
    <label>
        <select id="cboSpieltage" style="margin-left:5px;" class="form-control dropdown" @onchange="SpieltagChange">
            <option value="" selected>@currentspieltag. Spieltag</option>
            @foreach (var spieltag in SpieltagList)
            {
                <option value="@spieltag.Nummer"> @spieltag.Name </option>
            }
        </select>
        <br />
    </label>
    <label>
        <select id="cboTableArt" style="margin-left:5px;" class="form-control dropdown" @onchange="TabArtChange">
            <option value="0">Tabellenart wählen</option>
            <option value="1">Gesamttabelle</option>
            <option value="2">Heimtabelle</option>
            <option value="3">Auswärtstabelle</option>
            <option value="4">Vorrunde</option>
            <option value="5">Rückrunde</option>
            <option value="6">Ewige Tabelle</option>
        </select>
        <br />
    </label>
    <div class="form-group row">
        <div class="col-sm-10">
            <a type="button" @onclick="SpieltagZurueck" class="previous round">&laquo;</a>
        </div>
        <div class="col-sm-2 justify-content-end">
            <a type="button" @onclick="SpieltagVor" style="width: auto;" class="next round">&raquo;</a>
        </div>
    </div>
    <br>
    @foreach (var tabelle in Tabellen)
    {
        <EditForm Model="@Tabellen">
            <DataAnnotationsValidator />
            <ValidationSummary />
            <DisplayTabelle Tabelle="tabelle"></DisplayTabelle>
        </EditForm>
    }

    <div class="col-1 offset-11">
        <button onclick="topFunction()" id="btnTop" class="btn btn-primary" title="Nach oben" style='font-size:24px'><i class='fas fa-arrow-alt-circle-up'></i></button>
    </div>

    <script>

        let mybutton = document.getElementById("btnTop");

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
}

